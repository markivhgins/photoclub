<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>RANGEEN PIXELS — College Photography Club</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
<style>
*,*::before,*::after{margin:0;padding:0;box-sizing:border-box;}
:root{
  --black:#060606; --white:#f0ead8;
  --gold:#c9a84c;  --gold2:#e8c96a;
  --silver:#888;   --green:#39ff8f; --green-dim:#1a7a42;
  --L:min(50vw,52vh,420px);
}

@media (max-width: 768px){
  :root{
    --L: min(78vw, 42vh, 340px);
  }
}

#scene, #intro{
  min-height: 100svh;
}

html,body{width:100%;height:100%;overflow:hidden;background:var(--black);color:var(--white);font-family:'Cormorant Garamond',serif;cursor:crosshair;}

/* ── GRAIN ── */
body::after{content:'';position:fixed;inset:0;z-index:1;pointer-events:none;
  background-image:url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.82' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.07'/%3E%3C/svg%3E");}

/* ══════════════════════════════════════════
   VERTICAL FILM STRIP BACKGROUND
   Two tall 35mm strips drift vertically
   in opposite directions
══════════════════════════════════════════ */
.film-bg{
  position:fixed;inset:0;z-index:0;pointer-events:none;overflow:hidden;
  display:flex;flex-direction:row;align-items:stretch;justify-content:space-between;
}
.film-col{
  display:flex;flex-direction:column;flex-shrink:0;
  width:80px;
  background:#080808;
  border-right:2px solid rgba(255,255,255,0.06);
  position:relative;overflow:hidden;
}
.film-col:last-child{border-right:none;border-left:2px solid rgba(255,255,255,0.06);}
.film-col-inner{
  display:flex;flex-direction:column;flex-shrink:0;
}
.film-col:first-child .film-col-inner{animation:filmUp 28s linear infinite;}
.film-col:last-child .film-col-inner{animation:filmDown 36s linear infinite;}
@keyframes filmUp{0%{transform:translateY(0)}100%{transform:translateY(-50%)}}
@keyframes filmDown{0%{transform:translateY(-50%)}100%{transform:translateY(0)}}

/* individual vertical frame */
.vfr{
  flex-shrink:0;
  width:80px;height:110px;
  position:relative;
  border-bottom:2px solid rgba(255,255,255,0.12);
  background:#070707;overflow:hidden;
}
/* sprocket holes — left and right edges */
.vfr::before,.vfr::after{
  content:'';position:absolute;top:50%;transform:translateY(-50%);
  width:9px;height:13px;border-radius:2px;
  border:1.5px solid rgba(255,255,255,0.25);background:#000;
}
.vfr::before{left:4px;}
.vfr::after{right:4px;}
/* image area inset */
.vfr-img{
  position:absolute;inset:8px 18px;
  overflow:hidden;
}
.vfr:nth-child(8n+1) .vfr-img{background:radial-gradient(ellipse at 30% 70%,#3a1800 0%,#0a0500 100%);filter:sepia(1)contrast(1.4)brightness(0.7);}
.vfr:nth-child(8n+2) .vfr-img{background:radial-gradient(ellipse at 70% 20%,#0a1530 0%,#000 100%);filter:brightness(0.7)contrast(1.5);}
.vfr:nth-child(8n+3) .vfr-img{background:radial-gradient(ellipse at 50% 90%,#1a0800 0%,#020202 100%);filter:sepia(0.9)brightness(0.6);}
.vfr:nth-child(8n+4) .vfr-img{background:radial-gradient(ellipse at 20% 50%,#181800 0%,#040400 100%);filter:sepia(0.7)contrast(1.3);}
.vfr:nth-child(8n+5) .vfr-img{background:radial-gradient(ellipse at 80% 30%,#05051a 0%,#000 100%);filter:brightness(0.6)contrast(1.6);}
.vfr:nth-child(8n+6) .vfr-img{background:radial-gradient(ellipse at 55% 60%,#1a0a00 0%,#000 100%);filter:sepia(1)contrast(1.2);}
.vfr:nth-child(8n+7) .vfr-img{background:radial-gradient(ellipse at 40% 40%,#0e140e 0%,#010101 100%);filter:contrast(1.7)brightness(0.5);}
.vfr:nth-child(8n+8) .vfr-img{background:radial-gradient(ellipse at 65% 75%,#1c0505 0%,#000 100%);filter:sepia(0.8)brightness(0.6);}
/* horizon silhouette */
.vfr-img::before{content:'';position:absolute;bottom:20%;left:0;right:0;height:1px;background:rgba(255,255,255,0.1);}
.vfr-img::after{content:'';position:absolute;bottom:19%;left:15%;width:70%;height:18%;background:rgba(0,0,0,0.95);}
/* frame number */
.vfr-num{
  position:absolute;bottom:2px;left:50%;transform:translateX(-50%);
  font-family:'Space Mono',monospace;font-size:5px;
  color:rgba(255,255,255,0.3);letter-spacing:0.06em;z-index:2;
}
/* fade edges */
.film-col::before,.film-col::after{
  content:'';position:absolute;left:0;right:0;height:120px;z-index:10;pointer-events:none;
}
.film-col::before{top:0;background:linear-gradient(to bottom,#060606,transparent);}
.film-col::after{bottom:0;background:linear-gradient(to top,#060606,transparent);}

/* ── INTRO ── */
#intro{position:fixed;inset:0;z-index:200;background:var(--black);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity 0.2s ease;}
#intro.out{opacity:0;pointer-events:none;}

.intro-logo{
  font-family:'Bebas Neue',sans-serif;
  font-size: clamp(2.6rem, 10vw, 8.5rem);
  letter-spacing: clamp(0.16em, 3vw, 0.34em);
  color: var(--white);
  opacity: 0;
  animation: fadeUp 1.1s cubic-bezier(0.16,1,0.3,1) 0.2s forwards;

  /* CENTERED */
  text-align: center;

  /* SAFETY */
  max-width: 100%;
  padding: 0 6vw;     /* prevents edge clipping on small screens */
  overflow-wrap: anywhere;
}

.intro-sub{font-family:'Space Mono',monospace;font-size:clamp(0.48rem,1vw,0.72rem);letter-spacing:0.54em;color:var(--gold);
  opacity:0;animation:fadeUp 0.9s ease 1.05s forwards;margin-top:0.5rem;position:relative;left:-0.27em;}
@keyframes fadeUp{from{opacity:0;transform:translateY(12px)}to{opacity:1;transform:translateY(0)}}

/* ── FLASH ── */
#flash{position:fixed;inset:0;z-index:300;background:#fff;opacity:0;pointer-events:none;}
#flash.fire{animation:bigFlash 0.95s ease forwards;}
@keyframes bigFlash{0%{opacity:0}7%{opacity:1}30%{opacity:0.92}65%{opacity:0.3}100%{opacity:0;visibility:hidden}}

/* ── TICKER ── */
.ticker{position:fixed;bottom:0;left:80px;right:80px;height:26px;z-index:10;border-top:1px solid #191919;background:var(--black);overflow:hidden;display:flex;align-items:center;}
.ticker-track{display:flex;gap:72px;white-space:nowrap;animation:tickRoll 32s linear infinite;}
@keyframes tickRoll{to{transform:translateX(-50%)}}
.tick{font-family:'Space Mono',monospace;font-size:0.43rem;letter-spacing:0.24em;color:rgba(255,255,255,0.13);text-transform:uppercase;}
.tick b{color:var(--gold);font-weight:400;margin-right:5px;}

/* ── SCENE ── */
#scene{position:fixed;inset:0;z-index:2;display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;}
#scene.show{opacity:1;pointer-events:all;transition:opacity 0.5s ease;}

/* ── CAMERA WRAP ── */
.cam-wrap{
  display:flex;flex-direction:row;align-items:center;
  position:relative;gap:0;
}
.cam-col{
  display:flex;flex-direction:column;align-items:center;
  transition:transform 0.55s cubic-bezier(0.34,1.2,0.64,1);
  position:relative;z-index:2;
}
.pip-open .cam-col{transform:translateX(-24px);}

/* ══════════════════════════════════════════
   CAMERA BODY — Proper DSLR Shape
   
   Layout:
   ┌──────────────────────────────┬──────┐  ← top deck (pentaprism hump center, controls right)
   │                              │GRIP  │
   │        LENS (round)          │      │
   │                              │      │
   └──────────────────────────────┴──────┘
   
   The body is wider on the right (grip side),
   and has a distinct top with pentaprism hump,
   mode dial, hot shoe, shutter button.
══════════════════════════════════════════ */

/* Outer shell — the main rectangular body */
.cam-body{
  --ph: clamp(10px,2vw,22px);
  position:relative;
  display:flex;
  flex-direction:column;
  /* main body width = lens + padding on left + narrower on right before grip */
  width: calc(var(--L) + var(--ph)*2 + 58px);
  max-width:calc(100vw - 180px);
  background: linear-gradient(175deg, #272727 0%, #1a1a1a 30%, #151515 70%, #111 100%);
  border-radius: 6px 6px 4px 4px;
  box-shadow:
    0 0 0 1px #303030,
    0 0 0 3px #0a0a0a,
    0 32px 80px rgba(0,0,0,0.97),
    0 8px 24px rgba(0,0,0,0.8),
    inset 0 1px 0 rgba(255,255,255,0.05),
    inset 0 -2px 0 rgba(0,0,0,0.6);
  overflow:visible;
}

/* Subtle body leatherette texture */
.cam-body::before{
  content:'';position:absolute;inset:0;border-radius:inherit;pointer-events:none;z-index:0;
  background:
    repeating-linear-gradient(45deg, transparent, transparent 2px, rgba(0,0,0,0.06) 2px, rgba(0,0,0,0.06) 4px),
    repeating-linear-gradient(-45deg, transparent, transparent 2px, rgba(0,0,0,0.04) 2px, rgba(0,0,0,0.04) 4px);
}

/* Top edge shine */
.cam-body::after{
  content:'';position:absolute;top:0;left:8%;right:30%;height:1px;pointer-events:none;z-index:1;
  background:linear-gradient(to right, transparent, rgba(255,255,255,0.09), transparent);
}

/* ── TOP DECK ── */
/* The top of the camera has a raised pentaprism hump in the center-left,
   and a narrower right section with the shutter button */
.cam-top-deck{
  position:relative;
  display:flex;
  align-items:flex-end;
  height:38px;
  flex-shrink:0;
  z-index:5;
}

/* Pentaprism hump — the iconic peaked bump on top */
.cam-pentaprism{
  position:absolute;
  left: calc(var(--ph) + var(--L)*0.12);
  bottom:0;
  width: calc(var(--L)*0.38);
  height:38px;
  background:linear-gradient(to bottom, #252525 0%, #1e1e1e 100%);
  border-radius:3px 3px 0 0;
  border:1px solid #323232;
  border-bottom:none;
  box-shadow:
    0 -2px 8px rgba(0,0,0,0.5),
    inset 0 1px 0 rgba(255,255,255,0.06),
    inset -1px 0 0 rgba(0,0,0,0.3),
    inset 1px 0 0 rgba(255,255,255,0.02);
  clip-path:polygon(0% 100%, 4% 0%, 96% 0%, 100% 100%);
}
/* Hot shoe slot on top of pentaprism */
.cam-pentaprism::after{
  content:'';position:absolute;
  top:6px;left:20%;right:20%;height:8px;
  background: linear-gradient(to bottom, #111, #1a1a1a);
  border-radius:1px;
  border:1px solid #3a3a3a;
  box-shadow:inset 0 2px 4px rgba(0,0,0,0.8);
}
/* Viewfinder eyepiece bump */
.cam-pentaprism::before{
  content:'';position:absolute;
  bottom:-1px;left:30%;right:30%;height:8px;
  background:linear-gradient(to bottom,#1e1e1e,#151515);
  border-radius:1px 1px 0 0;
  border:1px solid #282828;border-bottom:none;
}

/* Mode dial — left of pentaprism — REFRESH BUTTON */
.cam-mode-dial{
  position:absolute;
  left: calc(var(--ph) - 6px);
  bottom:4px;
  width:36px;height:36px;
  border-radius:50%;
  background:conic-gradient(from 30deg,
    #3c3c3c 0deg,#1e1e1e 40deg,
    #4a4a4a 80deg,#1e1e1e 120deg,
    #3c3c3c 160deg,#1a1a1a 200deg,
    #4a4a4a 240deg,#1e1e1e 280deg,
    #3c3c3c 320deg,#1e1e1e 360deg);
  border:2px solid #3a3a3a;
  box-shadow:0 3px 10px rgba(0,0,0,0.8), inset 0 0 6px rgba(0,0,0,0.5);
  z-index:6;
  cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  transition:box-shadow 0.15s, transform 0.1s;
}
.cam-mode-dial:hover{
  box-shadow:0 3px 14px rgba(0,0,0,0.9), 0 0 12px rgba(201,168,76,0.3), inset 0 0 6px rgba(0,0,0,0.5);
}
.cam-mode-dial:active{transform:scale(0.92);}
.cam-mode-dial.spin svg{animation:refreshSpin 0.5s cubic-bezier(0.4,0,0.2,1);}
@keyframes refreshSpin{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
.cam-mode-dial svg{width:16px;height:16px;stroke:rgba(255,255,255,0.55);fill:none;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;}

/* Right deck controls (shutter area) */
.cam-deck-right{
  position:absolute;
  right: 4px;
  bottom:0;
  width:58px;
  height:32px;
  background:linear-gradient(to bottom,#202020,#181818);
  border-radius:3px 3px 0 0;
  border:1px solid #2e2e2e;border-bottom:none;
  display:flex;align-items:center;justify-content:center;gap:6px;
  padding:0 6px;
}
.shutter-btn{
  width:22px;height:15px;
  border-radius:50% 50% 40% 40%;
  background:linear-gradient(to bottom,#585858,#303030);
  border:1px solid #606060;
  cursor:pointer;
  box-shadow:0 3px 8px rgba(0,0,0,0.7), 0 1px 0 rgba(255,255,255,0.1);
  transition:transform 0.08s, box-shadow 0.15s, background 0.2s;
  flex-shrink:0;
  display:flex;align-items:center;justify-content:center;
}
.shutter-btn:hover{
  background:linear-gradient(to bottom,#686868,#404040);
  box-shadow:0 3px 12px rgba(0,0,0,0.8), 0 0 8px rgba(57,255,143,0.2);
}
.shutter-btn.pip-active{
  background:linear-gradient(to bottom,#1a4a2a,#0e2218);
  border-color:rgba(57,255,143,0.5);
  box-shadow:0 0 10px rgba(57,255,143,0.35), 0 3px 8px rgba(0,0,0,0.7);
}
.shutter-btn:active{transform:translateY(2px);}
.led{width:6px;height:6px;border-radius:50%;background:#c0392b;flex-shrink:0;
  box-shadow:0 0 8px #c0392b,0 0 16px rgba(192,57,43,0.4);animation:ledBlink 2.8s ease-in-out infinite;}
@keyframes ledBlink{0%,100%{opacity:1}45%{opacity:0.1}}

/* ── MAIN BODY ── */
/* The main section with lens on left and grip on right */
.cam-main{
  position:relative;
  display:flex;
  flex-direction:row;
  align-items:stretch;
  flex:1;
}

/* Lens section — left, slightly raised */
.cam-lens-section{
  flex:1;
  padding:clamp(8px,1.4vh,14px) var(--ph);
  position:relative;
  display:flex;flex-direction:column;align-items:center;
}

/* Brand label on the camera face */
.cam-brand-label{
  width:100%;display:flex;align-items:center;justify-content:space-between;
  margin-bottom:clamp(4px,0.8vh,10px);
}
.cam-brand{
  font-family:'Bebas Neue',sans-serif;
  font-size:clamp(0.85rem,1.7vw,1.3rem);
  letter-spacing:0.32em;color:var(--gold);
  text-shadow:0 0 12px rgba(201,168,76,0.22);
}
.cam-spec{
  font-family:'Space Mono',monospace;
  font-size:clamp(0.3rem,0.55vw,0.44rem);
  color:var(--silver);letter-spacing:0.14em;opacity:0.55;
}

/* LCD display panel — small screen on camera back simulation */
.cam-lcd{
  position:absolute;
  top:10px;right:calc(-58px + 6px);
  width:44px;height:30px;
  background:#010e06;
  border:1px solid #1a3020;
  border-radius:2px;
  display:flex;align-items:center;justify-content:center;
  box-shadow:0 0 8px rgba(57,255,143,0.06), inset 0 0 6px rgba(0,0,0,0.8);
  overflow:hidden;
  z-index:6;
}
.cam-lcd::before{
  content:'';position:absolute;inset:0;
  background:repeating-linear-gradient(to bottom,transparent,transparent 2px,rgba(0,0,0,0.1) 2px,rgba(0,0,0,0.1) 3px);
}
.cam-lcd-text{
  font-family:'Space Mono',monospace;font-size:5px;
  color:rgba(57,255,143,0.7);letter-spacing:0.05em;
  text-align:center;line-height:1.6;
  z-index:1;
}

/* ── GRIP ── */
.cam-grip{
  width:58px;flex-shrink:0;
  background:linear-gradient(to right,#141414,#0f0f0f 60%,#0c0c0c);
  border-radius:0 4px 4px 0;
  border-left:1px solid #202020;
  position:relative;overflow:hidden;
  box-shadow:inset -2px 0 8px rgba(0,0,0,0.6), 4px 0 16px rgba(0,0,0,0.7);
  display:flex;flex-direction:column;align-items:center;justify-content:center;gap:5px;
  padding:16px 0;
}
/* Rubber grip texture lines */
.cam-grip::before{
  content:'';position:absolute;inset:0;
  background:repeating-linear-gradient(
    to bottom,
    rgba(0,0,0,0.22) 0px, rgba(0,0,0,0.22) 2px,
    rgba(255,255,255,0.015) 2px, rgba(255,255,255,0.015) 3px,
    rgba(0,0,0,0.08) 3px, rgba(0,0,0,0.08) 5px,
    transparent 5px, transparent 8px
  );
}
.knob{
  width:20px;height:20px;border-radius:50%;position:relative;z-index:1;flex-shrink:0;
  background:conic-gradient(from 0deg,#424242,#1e1e1e,#525252,#1e1e1e,#424242);
  border:1px solid #383838;
  box-shadow:0 2px 6px rgba(0,0,0,0.7),inset 0 0 4px rgba(0,0,0,0.5);
  cursor:pointer;
  display:flex;align-items:center;justify-content:center;
  transition:box-shadow 0.15s, transform 0.08s;
}
.knob:hover{box-shadow:0 2px 10px rgba(0,0,0,0.8), 0 0 8px rgba(57,255,143,0.2);}
.knob:active{transform:scale(0.88);}
.knob svg{width:9px;height:9px;stroke:rgba(255,255,255,0.4);fill:none;stroke-width:2.5;stroke-linecap:round;stroke-linejoin:round;}
/* pulse when pip-nav active */
.knob.flash{animation:knobFlash 0.18s ease;}
@keyframes knobFlash{0%,100%{box-shadow:0 2px 6px rgba(0,0,0,0.7)}50%{box-shadow:0 0 14px rgba(57,255,143,0.6)}}

/* ── BOTTOM BAR ── */
.cam-bottom{
  display:flex;align-items:center;justify-content:space-between;
  padding:clamp(5px,0.9vh,10px) var(--ph);
  padding-right:calc(var(--ph) + 58px);
  border-top:1px solid #1e1e1e;
  background:linear-gradient(to bottom,#151515,#111);
  border-radius:0 0 4px 4px;
  position:relative;z-index:1;
}
.cam-rd{font-family:'Space Mono',monospace;font-size:clamp(0.3rem,0.55vw,0.44rem);letter-spacing:0.13em;opacity:0.5;}
.cam-rd.g{color:var(--gold);}.cam-rd.s{color:var(--silver);}
.cam-ap{font-family:'Cormorant Garamond',serif;font-style:italic;font-size:clamp(0.44rem,0.8vw,0.64rem);color:var(--white);opacity:0.24;}

/* ── LENS ASSEMBLY ── */
.lens-asm{position:relative;width:var(--L);height:var(--L);margin:0 auto;flex-shrink:0;}
.lens-glow{position:absolute;inset:-12%;border-radius:50%;pointer-events:none;z-index:0;
  background:radial-gradient(circle,rgba(201,168,76,0.07) 0%,transparent 65%);animation:glowPulse 5s ease-in-out infinite;}
@keyframes glowPulse{0%,100%{opacity:0.4;transform:scale(1)}50%{opacity:1;transform:scale(1.07)}}
.ring{position:absolute;border-radius:50%;}
.r-outer{inset:0;background:conic-gradient(from 0deg,#2c2c2c,#0f0f0f,#3e3e3e,#181818,#4a4a4a,#0f0f0f,#2c2c2c,#0f0f0f,#3a3a3a,#181818,#2c2c2c);
  box-shadow:0 0 0 2px #080808,0 0 0 4px #1c1c1c,0 14px 54px rgba(0,0,0,0.96),inset 0 0 0 1.5px rgba(255,255,255,0.032);animation:spinFwd 28s linear infinite;}
.r-mid{inset:11%;background:conic-gradient(from 120deg,#464646,#181818,#565656,#181818,#464646);
  box-shadow:inset 0 0 24px rgba(0,0,0,0.72),0 0 0 1px #202020;animation:spinRev 17s linear infinite;}
.r-inner{inset:21%;background:radial-gradient(circle at 40% 40%,#292929,#0c0c0c 70%);
  box-shadow:inset 0 0 42px rgba(0,0,0,0.97),0 0 0 1.5px #2c2c2c;}
@keyframes spinFwd{to{transform:rotate(360deg)}}
@keyframes spinRev{to{transform:rotate(-360deg)}}
.iris{position:absolute;inset:28%;border-radius:50%;overflow:hidden;}
.glass{position:absolute;inset:0;border-radius:50%;overflow:hidden;
  background:radial-gradient(circle at 38% 32%,rgba(55,95,175,0.2) 0%,rgba(0,0,0,0.97) 62%);transition:background 1.1s ease;}
.glass.open{background:radial-gradient(circle at 38% 32%,rgba(45,85,155,0.11) 0%,rgba(0,4,22,0.78) 62%);}
.blades{position:absolute;inset:0;border-radius:50%;}
.blade{position:absolute;width:52%;height:52%;background:#050505;transform-origin:bottom right;border-radius:100% 0 0 0;transition:transform 0.9s cubic-bezier(0.4,0,0.2,1);}
.blade:nth-child(1){top:0;left:0;transform:rotate(0deg)}   .blade:nth-child(2){top:0;left:0;transform:rotate(45deg)}
.blade:nth-child(3){top:0;left:0;transform:rotate(90deg)}  .blade:nth-child(4){top:0;left:0;transform:rotate(135deg)}
.blade:nth-child(5){top:0;left:0;transform:rotate(180deg)} .blade:nth-child(6){top:0;left:0;transform:rotate(225deg)}
.blade:nth-child(7){top:0;left:0;transform:rotate(270deg)} .blade:nth-child(8){top:0;left:0;transform:rotate(315deg)}
.blades.open{opacity:0;transition:opacity 0.65s ease 0.2s;}
.blades.open .blade:nth-child(1){transform:rotate(0deg)scale(0.01)}   .blades.open .blade:nth-child(2){transform:rotate(45deg)scale(0.01)}
.blades.open .blade:nth-child(3){transform:rotate(90deg)scale(0.01)}  .blades.open .blade:nth-child(4){transform:rotate(135deg)scale(0.01)}
.blades.open .blade:nth-child(5){transform:rotate(180deg)scale(0.01)} .blades.open .blade:nth-child(6){transform:rotate(225deg)scale(0.01)}
.blades.open .blade:nth-child(7){transform:rotate(270deg)scale(0.01)} .blades.open .blade:nth-child(8){transform:rotate(315deg)scale(0.01)}
.lens-int{position:absolute;inset:0;border-radius:50%;overflow:hidden;opacity:0;transition:opacity 0.55s ease;}
.lens-int.visible{opacity:1;}
.lens-bg{position:absolute;inset:0;border-radius:50%;
  background:radial-gradient(ellipse at 38% 30%,rgba(16,34,76,0.6) 0%,transparent 52%),
    radial-gradient(ellipse at 70% 68%,rgba(55,20,0,0.14) 0%,transparent 38%),radial-gradient(circle,#060811 0%,#000 100%);}
.flare{position:absolute;border-radius:50%;pointer-events:none;}
.fl1{width:38%;height:38%;top:3%;left:4%;background:radial-gradient(circle,rgba(150,195,255,0.14) 0%,transparent 68%);}
.fl2{width:20%;height:20%;bottom:16%;right:13%;background:radial-gradient(circle,rgba(201,168,76,0.18) 0%,transparent 68%);}
.fl3{position:absolute;pointer-events:none;width:55%;height:1px;top:22%;left:18%;background:linear-gradient(to right,transparent,rgba(255,255,255,0.07),transparent);transform:rotate(-13deg);}
.fl4{position:absolute;pointer-events:none;width:28%;height:1px;top:34%;left:52%;background:linear-gradient(to right,transparent,rgba(201,168,76,0.1),transparent);transform:rotate(20deg);}
.dust{position:absolute;inset:0;border-radius:50%;pointer-events:none;}
.dust::before{content:'';position:absolute;width:2px;height:2px;border-radius:50%;background:rgba(255,255,255,0.55);top:28%;left:62%;
  box-shadow:14px -9px 0 1px rgba(255,255,255,0.22),-22px 18px 0 1px rgba(201,168,76,0.35),30px 11px 0 1px rgba(255,255,255,0.13),-8px -22px 0 1px rgba(255,255,255,0.18),18px 29px 0 1px rgba(201,168,76,0.2),-32px -4px 0 1px rgba(255,255,255,0.09),22px -26px 0 1px rgba(201,168,76,0.16);}
.hud{position:absolute;inset:0;border-radius:50%;pointer-events:none;z-index:4;}
.hud-h{position:absolute;left:7%;right:7%;top:50%;height:1px;background:linear-gradient(to right,transparent,rgba(255,255,255,0.026),transparent);}
.hud-v{position:absolute;top:7%;bottom:7%;left:50%;width:1px;background:linear-gradient(to bottom,transparent,rgba(255,255,255,0.026),transparent);}
.hud-c{position:absolute;width:11%;height:11%;border-color:rgba(201,168,76,0.15);border-style:solid;}
.hud-c.tl{top:9%;left:9%;border-width:1px 0 0 1px}.hud-c.tr{top:9%;right:9%;border-width:1px 1px 0 0}
.hud-c.bl{bottom:9%;left:9%;border-width:0 0 1px 1px}.hud-c.br{bottom:9%;right:9%;border-width:0 1px 1px 0}
.hud-dot{position:absolute;width:3px;height:3px;border:1px solid rgba(201,168,76,0.18);border-radius:50%;top:50%;left:50%;transform:translate(-50%,-50%);}
#lens-flash{position:absolute;inset:28%;border-radius:50%;background:#fff;opacity:0;pointer-events:none;z-index:10;}
#lens-flash.blink{animation:lensFlash 0.38s ease forwards;}
@keyframes lensFlash{0%{opacity:0}15%{opacity:0.85}60%{opacity:0.4}100%{opacity:0}}
.iris-deco{position:absolute;inset:28%;width:44%;height:44%;pointer-events:none;z-index:5;opacity:0.1;}

/* ══ RADIAL NAV ══ */
.nav-radial{position:absolute;inset:0;z-index:3;}
.orbit-ring{position:absolute;border-radius:50%;border:1px solid rgba(201,168,76,0.065);pointer-events:none;}
.nav-item{position:absolute;display:flex;align-items:center;justify-content:center;border-radius:50%;
  border:1px solid rgba(255,255,255,0.09);background:rgba(8,8,18,0.62);backdrop-filter:blur(5px) saturate(1.2);
  text-decoration:none;color:var(--white);cursor:pointer;outline:none;-webkit-tap-highlight-color:transparent;
  opacity:0;transform:scale(0.3);will-change:transform;
  transition:opacity 0.3s ease,transform 0.38s cubic-bezier(0.34,1.56,0.64,1),background 0.22s,border-color 0.22s,box-shadow 0.22s;}
.nav-item.show{opacity:1;transform:scale(1);}
.nav-item:hover{background:rgba(201,168,76,0.15);border-color:rgba(201,168,76,0.65);transform:scale(1.16)!important;
  box-shadow:0 0 20px rgba(201,168,76,0.36),0 0 48px rgba(201,168,76,0.1),inset 0 0 10px rgba(201,168,76,0.08);z-index:9;}
.nav-item:hover .ico{filter:drop-shadow(0 0 5px rgba(201,168,76,0.8))brightness(1.3);}
.nav-item:active{transform:scale(0.87)!important;transition:transform 0.07s ease!important;}
.nav-item:focus-visible{outline:2px solid var(--gold);outline-offset:4px;background:rgba(201,168,76,0.14);border-color:rgba(201,168,76,0.7);box-shadow:0 0 28px rgba(201,168,76,0.42);transform:scale(1.12)!important;z-index:9;}
.nav-item.center{background:rgba(201,168,76,0.09);border-color:rgba(201,168,76,0.26);animation:centreGlow 3.5s ease-in-out infinite;}
@keyframes centreGlow{0%,100%{box-shadow:0 0 10px rgba(201,168,76,0.12),inset 0 0 8px rgba(201,168,76,0.05)}50%{box-shadow:0 0 28px rgba(201,168,76,0.32),inset 0 0 18px rgba(201,168,76,0.12)}}
.nav-item.center:hover{animation:none;}
.nav-item.center.pip-active{background:rgba(57,255,143,0.12);border-color:rgba(57,255,143,0.7);animation:none;
  box-shadow:0 0 24px rgba(57,255,143,0.4),inset 0 0 14px rgba(57,255,143,0.12);}
.ico{display:flex;align-items:center;justify-content:center;width:54%;height:54%;transition:filter 0.22s;pointer-events:none;user-select:none;opacity:0.82;}
.ico svg{width:100%;height:100%;display:block;}
.nav-item:hover .ico{opacity:1;}
.nav-item.center .ico{width:48%;height:48%;opacity:0.9;}
.iris-deco{position:absolute;inset:28%;width:44%;height:44%;pointer-events:none;z-index:5;opacity:0.12;}

/* ── HINT ── */
.hint{font-family:'Space Mono',monospace;font-size:clamp(0.28rem,0.46vw,0.4rem);letter-spacing:0.22em;color:rgba(255,255,255,0.11);
  text-align:center;margin-top:clamp(4px,0.7vh,8px);animation:hintP 3s ease-in-out 0.5s infinite;}
@keyframes hintP{0%,100%{opacity:0.11}50%{opacity:0.32}}

/* ══════════════════════════════════════════════════════════
   PIP-BOY SCREEN — slides from right side of camera
══════════════════════════════════════════════════════════ */
#pip-wrap{
  position:absolute;
  left:calc(100% + 8px);
  top:50%;
  width:clamp(220px, calc(var(--L) * 0.82), 310px);
  transform:translateY(-50%) translateX(40px) scale(0.96);
  transform-origin:left center;
  z-index:30;
  pointer-events:none;
  opacity:0;
  filter:blur(4px);
  transition:transform 0.5s cubic-bezier(0.34,1.2,0.64,1), opacity 0.2s ease, filter 0.3s ease;
}
#pip-wrap.open{
  transform:translateY(-50%) translateX(0) scale(1);
  opacity:1;
  pointer-events:all;
  filter:blur(0);
}

/* Connection arm from camera grip to screen */
.pip-connector{
  position:absolute;
  left:-8px;top:50%;
  transform:translateY(-50%);
  width:8px;height:50px;
  background:linear-gradient(to right,#1c1c1c,#252525);
  border-top:1px solid #2e2e2e;
  border-bottom:1px solid #2e2e2e;
  display:flex;flex-direction:column;align-items:center;justify-content:space-evenly;
}
.pip-connector::before,.pip-connector::after{
  content:'';width:5px;height:5px;border-radius:50%;
  background:#222;border:1px solid #3a3a3a;flex-shrink:0;
}

/* CRT panel */
.pip-crt{
  border:1.5px solid #1a3a28;
  border-radius:5px;
  overflow:hidden;
  position:relative;
  background:linear-gradient(160deg,#010f07,#000d05);
  box-shadow:
    0 0 0 1px #0a1e12,
    0 0 30px rgba(57,255,143,0.15),
    0 16px 50px rgba(0,0,0,0.95),
    inset 0 0 40px rgba(0,0,0,0.6);
}
/* scanlines */
.pip-crt::before{content:'';position:absolute;inset:0;z-index:20;pointer-events:none;
  background:repeating-linear-gradient(to bottom,transparent,transparent 2px,rgba(0,0,0,0.14) 2px,rgba(0,0,0,0.14) 4px);}
/* CRT vignette */
.pip-crt::after{content:'';position:absolute;inset:0;z-index:19;pointer-events:none;
  background:radial-gradient(ellipse at 50% 50%,transparent 55%,rgba(0,0,0,0.7) 100%);}
.pip-noise-line{position:absolute;left:0;right:0;height:2px;background:rgba(57,255,143,0.05);z-index:18;pointer-events:none;
  animation:noiseScroll 4s linear infinite;}
@keyframes noiseScroll{0%{top:-5%}100%{top:105%}}

/* chrome title bar */
.pip-bar{
  height:28px;
  background:linear-gradient(to bottom,#171717,#101010);
  border-bottom:1px solid #0d221a;
  display:flex;align-items:center;justify-content:space-between;
  padding:0 12px;position:relative;z-index:5;
}
.pip-bar-title{font-family:'Space Mono',monospace;font-size:0.4rem;letter-spacing:0.28em;color:#1f5030;text-transform:uppercase;}
.pip-bar-right{display:flex;align-items:center;gap:6px;}
.pip-dot{width:6px;height:6px;border-radius:50%;background:#0d0d0d;border:1px solid #1a1a1a;}
.pip-dot.on{background:var(--green);box-shadow:0 0 6px var(--green);}
.pip-dot.pulse{animation:dotPulse 1.2s ease-in-out infinite;}
@keyframes dotPulse{0%,100%{opacity:1}50%{opacity:0.15}}

/* main content area */
.pip-body{padding:14px 16px 12px;min-height:160px;position:relative;z-index:5;}

/* IDLE */
.pip-idle{display:flex;flex-direction:column;align-items:center;justify-content:center;height:140px;gap:10px;transition:opacity 0.2s;}
.pip-idle.gone{opacity:0;pointer-events:none;}
.pip-crosshair{width:32px;height:32px;position:relative;opacity:0.16;animation:crossSpin 8s linear infinite;}
@keyframes crossSpin{to{transform:rotate(360deg)}}
.pip-crosshair::before,.pip-crosshair::after{content:'';position:absolute;background:var(--green);border-radius:1px;}
.pip-crosshair::before{width:1px;height:100%;left:50%;top:0;transform:translateX(-50%);}
.pip-crosshair::after{height:1px;width:100%;top:50%;left:0;transform:translateY(-50%);}
.pip-idle-ring{position:absolute;width:100%;height:100%;border-radius:50%;border:1px solid rgba(57,255,143,0.25);animation:ringPulse 2s ease-in-out infinite;}
@keyframes ringPulse{0%,100%{transform:scale(0.8);opacity:0.3}50%{transform:scale(1.15);opacity:0;}}
.pip-idle-msg{font-family:'Space Mono',monospace;font-size:0.4rem;letter-spacing:0.28em;color:rgba(57,255,143,0.24);text-transform:uppercase;}

/* ACTIVE card */
.pip-card{position:absolute;inset:14px 16px 12px;opacity:0;pointer-events:none;transition:opacity 0.28s ease;}
.pip-card.visible{opacity:1;pointer-events:all;}
.pip-card-head{display:flex;align-items:flex-start;gap:12px;margin-bottom:10px;}
.pip-icon-frame{
  width:46px;height:46px;flex-shrink:0;border-radius:3px;
  border:1px solid rgba(57,255,143,0.2);background:rgba(57,255,143,0.03);
  display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden;
}
.pip-icon-frame::before{content:'';position:absolute;inset:0;background:linear-gradient(135deg,rgba(57,255,143,0.06) 0%,transparent 55%);}
.pip-icon-frame svg{width:22px;height:22px;stroke:var(--green);fill:none;stroke-width:1.4;stroke-linecap:round;stroke-linejoin:round;}
.pip-text{flex:1;min-width:0;}
.pip-eyebrow{font-family:'Space Mono',monospace;font-size:0.34rem;letter-spacing:0.36em;color:rgba(57,255,143,0.38);text-transform:uppercase;margin-bottom:2px;}
.pip-name{font-family:'Bebas Neue',sans-serif;font-size:1.5rem;letter-spacing:0.05em;line-height:1;color:var(--green);text-shadow:0 0 12px rgba(57,255,143,0.4);}
.pip-desc{font-family:'Cormorant Garamond',serif;font-size:0.8rem;line-height:1.48;color:rgba(57,255,143,0.5);margin-top:4px;}
.pip-rule{width:100%;height:1px;background:linear-gradient(to right,transparent,rgba(57,255,143,0.18),transparent);margin:9px 0;}
.pip-stats{display:flex;gap:16px;flex-wrap:wrap;}
.pip-stat .v{font-family:'Space Mono',monospace;font-size:0.66rem;color:var(--green);letter-spacing:0.04em;}
.pip-stat .k{font-family:'Space Mono',monospace;font-size:0.3rem;letter-spacing:0.2em;color:rgba(57,255,143,0.3);text-transform:uppercase;margin-top:1px;}
.pip-progress{margin-top:9px;}
.pip-prog-label{font-family:'Space Mono',monospace;font-size:0.3rem;letter-spacing:0.18em;color:rgba(57,255,143,0.28);text-transform:uppercase;margin-bottom:4px;}
.pip-prog-track{height:2px;background:rgba(57,255,143,0.07);border-radius:2px;overflow:hidden;}
.pip-prog-fill{height:100%;background:linear-gradient(to right,var(--green-dim),var(--green));border-radius:2px;width:0;transition:width 0.9s cubic-bezier(0.4,0,0.2,1);}

/* footer */
.pip-foot{
  height:24px;border-top:1px solid #0d221a;padding:0 12px;
  display:flex;align-items:center;justify-content:space-between;
  position:relative;z-index:5;
  background:linear-gradient(to bottom,transparent,rgba(0,5,2,0.4));
}
.pip-status{font-family:'Space Mono',monospace;font-size:0.32rem;letter-spacing:0.18em;color:rgba(57,255,143,0.24);text-transform:uppercase;}
.pip-status.blink{animation:statusBlink 1.9s ease-in-out infinite;}
@keyframes statusBlink{0%,100%{opacity:0.24}50%{opacity:0.65}}
.pip-cursor{display:inline-block;width:4px;height:0.75em;background:var(--green);vertical-align:middle;margin-left:2px;animation:cBlink 1s step-end infinite;}
@keyframes cBlink{0%,100%{opacity:1}50%{opacity:0}}

/* ── PANEL ── */
.panel-ov{position:fixed;inset:0;z-index:50;background:rgba(0,0,0,0.92);backdrop-filter:blur(14px);
  display:flex;align-items:center;justify-content:center;opacity:0;pointer-events:none;transition:opacity 0.3s ease;}
.panel-ov.active{opacity:1;pointer-events:all;}
.panel{width:min(92vw,660px);max-height:82vh;background:linear-gradient(148deg,#131313,#0b0b0b);
  border:1px solid rgba(201,168,76,0.18);border-radius:3px;overflow-y:auto;padding:42px 46px;position:relative;
  transform:translateY(22px)scale(0.96);transition:transform 0.38s cubic-bezier(0.34,1.56,0.64,1);
  box-shadow:0 36px 90px rgba(0,0,0,0.9),0 0 0 1px rgba(255,255,255,0.025);}
.panel-ov.active .panel{transform:translateY(0)scale(1);}
.panel-close{position:absolute;top:16px;right:20px;font-family:'Space Mono',monospace;font-size:0.58rem;letter-spacing:0.2em;color:var(--silver);cursor:pointer;background:none;border:none;transition:color 0.2s;}
.panel-close:hover{color:var(--gold);}
.panel-tag{font-family:'Space Mono',monospace;font-size:0.47rem;letter-spacing:0.28em;color:var(--gold);margin-bottom:7px;text-transform:uppercase;}
.panel-title{font-family:'Bebas Neue',sans-serif;font-size:clamp(1.9rem,4.5vw,3.2rem);letter-spacing:0.07em;line-height:1;margin-bottom:20px;color:var(--white);}
.panel-body{font-family:'Cormorant Garamond',serif;font-size:1.04rem;line-height:1.85;color:rgba(240,234,216,0.7);}
.panel-body p{margin-bottom:13px;}
.panel-div{width:46px;height:1px;background:var(--gold);opacity:0.28;margin:18px 0;}
.gg{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin-top:16px;}
.gt{aspect-ratio:1;border-radius:2px;overflow:hidden;background:#121212;border:1px solid #1d1d1d;position:relative;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:1.7rem;transition:transform 0.28s,border-color 0.28s;}
.gt:hover{transform:scale(1.03);border-color:var(--gold);}
.gl{position:absolute;bottom:0;left:0;right:0;padding:6px;font-family:'Space Mono',monospace;font-size:0.42rem;letter-spacing:0.09em;color:var(--gold);background:linear-gradient(transparent,rgba(0,0,0,0.88));opacity:0;transition:opacity 0.22s;}
.gt:hover .gl{opacity:1;}
.mg{display:grid;grid-template-columns:repeat(2,1fr);gap:13px;margin-top:16px;}
.mc{background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.05);border-radius:2px;padding:16px;transition:border-color 0.25s;}
.mc:hover{border-color:rgba(201,168,76,0.26);}
.ma{width:42px;height:42px;border-radius:50%;background:linear-gradient(135deg,#202020,#121212);border:1px solid var(--gold);display:flex;align-items:center;justify-content:center;font-size:1.25rem;margin-bottom:8px;}
.mn{font-family:'Cormorant Garamond',serif;font-size:1rem;color:var(--white);margin-bottom:2px;}
.mr{font-family:'Space Mono',monospace;font-size:0.43rem;color:var(--gold);letter-spacing:0.13em;}
.ei{display:flex;gap:16px;align-items:flex-start;padding:13px 0;border-bottom:1px solid rgba(255,255,255,0.04);}
.ed{font-family:'Bebas Neue',sans-serif;font-size:1.4rem;color:var(--gold);line-height:1;min-width:44px;text-align:center;}
.em{font-family:'Space Mono',monospace;font-size:0.42rem;color:var(--silver);letter-spacing:0.13em;display:block;text-align:center;}
.eif h4{font-family:'Cormorant Garamond',serif;font-size:1rem;color:var(--white);margin-bottom:3px;}
.eif p{font-family:'Space Mono',monospace;font-size:0.47rem;color:var(--silver);letter-spacing:0.08em;margin:0;}
.fg{margin-bottom:16px;}
.fl{display:block;font-family:'Space Mono',monospace;font-size:0.47rem;letter-spacing:0.19em;color:var(--gold);margin-bottom:6px;}
.fi{width:100%;background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.07);border-radius:2px;padding:10px 14px;color:var(--white);font-family:'Cormorant Garamond',serif;font-size:0.98rem;outline:none;transition:border-color 0.22s;}
.fi:focus{border-color:var(--gold);}.fi::placeholder{color:rgba(255,255,255,0.17);}
.fb{width:100%;background:transparent;border:1px solid var(--gold);color:var(--gold);padding:12px;font-family:'Bebas Neue',sans-serif;font-size:1.1rem;letter-spacing:0.28em;cursor:pointer;transition:all 0.26s;border-radius:2px;}
.fb:hover{background:var(--gold);color:var(--black);}
.panel::-webkit-scrollbar{width:3px;}.panel::-webkit-scrollbar-track{background:#090909;}.panel::-webkit-scrollbar-thumb{background:#282828;}

@media (max-width: 768px){
  .cam-wrap{
    transform: scale(0.92);
  }
}

</style>
</head>
<body>

<!-- VERTICAL FILM STRIP BACKGROUND -->
<div class="film-bg" aria-hidden="true">
  <div class="film-col"><div class="film-col-inner" id="fc1"></div></div>
  <div class="film-col"><div class="film-col-inner" id="fc2"></div></div>
</div>

<!-- INTRO -->
<div id="intro">
  <div class="intro-logo">RANGEEN PIXELS</div>
  <div class="intro-sub">◆ &nbsp;College Photography Club&nbsp; ◆</div>
</div>

<!-- FLASH -->
<div id="flash"></div>

<!-- TICKER -->
<div class="ticker"><div class="ticker-track">
  <div class="tick"><b>◆</b> RANGEEN PIXELS PHOTOGRAPHY CLUB — EST. 2019</div>
  <div class="tick"><b>◆</b> MONTHLY PHOTOWALKS — EVERY FIRST SATURDAY</div>
  <div class="tick"><b>◆</b> ANNUAL EXHIBITION — SPRING 2026</div>
  <div class="tick"><b>◆</b> WORKSHOP: STUDIO LIGHTING — REGISTER NOW</div>
  <div class="tick"><b>◆</b> 47 ACTIVE MEMBERS THIS SEMESTER</div>
  <div class="tick"><b>◆</b> RANGEEN PIXELS PHOTOGRAPHY CLUB — EST. 2019</div>
  <div class="tick"><b>◆</b> MONTHLY PHOTOWALKS — EVERY FIRST SATURDAY</div>
  <div class="tick"><b>◆</b> ANNUAL EXHIBITION — SPRING 2026</div>
  <div class="tick"><b>◆</b> WORKSHOP: STUDIO LIGHTING — REGISTER NOW</div>
  <div class="tick"><b>◆</b> 47 ACTIVE MEMBERS THIS SEMESTER</div>
</div></div>

<!-- MAIN SCENE -->
<div id="scene">
  <div class="cam-wrap" id="camWrap">
    <div class="cam-col">

      <!-- ══ CAMERA BODY ══ -->
      <div class="cam-body" id="camBody">

        <!-- TOP DECK: pentaprism + mode dial + shutter -->
        <div class="cam-top-deck">
          <div class="cam-mode-dial" id="refreshBtn" title="Refresh page">
            <svg viewBox="0 0 24 24"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"/></svg>
          </div>
          <div class="cam-pentaprism"></div>
          <div class="cam-deck-right">
            <div class="led"></div>
            <div class="shutter-btn" id="shutterPipBtn" title="Toggle display"></div>
          </div>
        </div>

        <!-- MAIN BODY: lens + grip side by side -->
        <div class="cam-main">

          <!-- Lens section -->
          <div class="cam-lens-section">
            <div class="cam-brand-label">
              <div>
                <div class="cam-brand">RANGEEN PIXELS</div>
                <div class="cam-spec">MKII &nbsp;·&nbsp; ƒ/1.4 &nbsp;·&nbsp; 50mm</div>
              </div>
              <div class="cam-controls" style="display:flex;align-items:center;gap:5px;">
                <div class="knob"></div>
              </div>
            </div>

            <!-- LENS -->
            <div class="lens-asm">
              <div class="lens-glow"></div>
              <div class="ring r-outer"></div><div class="ring r-mid"></div><div class="ring r-inner"></div>
              <div id="lens-flash"></div>
              <div class="iris">
                <div class="glass" id="lensGlass">
                  <div class="blades" id="shutterBlades">
                    <div class="blade"></div><div class="blade"></div><div class="blade"></div><div class="blade"></div>
                    <div class="blade"></div><div class="blade"></div><div class="blade"></div><div class="blade"></div>
                  </div>
                  <div class="lens-int" id="lensInt">
                    <div class="lens-bg"></div>
                    <div class="flare fl1"></div><div class="flare fl2"></div>
                    <div class="fl3"></div><div class="fl4"></div>
                    <div class="dust"></div>
                    <div class="hud">
                      <div class="hud-h"></div><div class="hud-v"></div>
                      <div class="hud-c tl"></div><div class="hud-c tr"></div>
                      <div class="hud-c bl"></div><div class="hud-c br"></div>
                      <div class="hud-dot"></div>
                    </div>
                    <nav class="nav-radial" id="navRadial" aria-label="Main navigation">
                      <a href="#gallery"   class="nav-item" data-panel="gallery"   data-pip="gallery"   aria-label="Gallery">
                        <span class="ico"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg></span>
                      </a>
                      <a href="#events"    class="nav-item" data-panel="events"    data-pip="events"    aria-label="Events">
                        <span class="ico"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg></span>
                      </a>
                      <a href="#about"     class="nav-item" data-panel="about"     data-pip="about"     aria-label="About">
                        <span class="ico"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><circle cx="12" cy="12" r="9"/><line x1="12" y1="3" x2="8" y2="12"/><line x1="12" y1="3" x2="16" y2="12"/><line x1="21" y1="12" x2="14.5" y2="9"/><line x1="21" y1="12" x2="16" y2="15"/><line x1="12" y1="21" x2="16" y2="12"/><line x1="12" y1="21" x2="8" y2="12"/><line x1="3" y1="12" x2="9.5" y2="15"/><line x1="3" y1="12" x2="8" y2="9"/></svg></span>
                      </a>
                      <a href="#workshops" class="nav-item" data-panel="workshops" data-pip="workshops" aria-label="Workshops">
                        <span class="ico"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="6" width="20" height="12" rx="1"/><line x1="2" y1="10" x2="22" y2="10"/><line x1="2" y1="14" x2="22" y2="14"/><line x1="6" y1="6" x2="6" y2="18"/><line x1="18" y1="6" x2="18" y2="18"/></svg></span>
                      </a>
                      <a href="#members"   class="nav-item" data-panel="members"   data-pip="members"   aria-label="Members">
                        <span class="ico"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg></span>
                      </a>
                      <a href="#gear"      class="nav-item" data-panel="gear"      data-pip="gear"      aria-label="Gear">
                        <span class="ico"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg></span>
                      </a>
                      <a href="#join"      class="nav-item" data-panel="join"      data-pip="join"      aria-label="Join">
                        <span class="ico"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg></span>
                      </a>
                      <a href="#awards"    class="nav-item" data-panel="awards"    data-pip="awards"    aria-label="Awards">
                        <span class="ico"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg></span>
                      </a>
                      <!-- CENTER -->
                      <a href="#" class="nav-item center" id="homeBtn" aria-label="Open info display">
                        <span class="ico"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"><circle cx="12" cy="12" r="9"/><circle cx="12" cy="12" r="3.5"/><line x1="12" y1="3" x2="12" y2="8.5"/><line x1="12" y1="15.5" x2="12" y2="21"/><line x1="3" y1="12" x2="8.5" y2="12"/><line x1="15.5" y1="12" x2="21" y2="12"/></svg></span>
                      </a>
                    </nav>
                  </div>
                </div>
              </div>
              <svg class="iris-deco" viewBox="0 0 100 100" aria-hidden="true">
                <circle cx="50" cy="50" r="48" fill="none" stroke="rgba(201,168,76,0.55)" stroke-width="0.6"/>
                <circle cx="50" cy="50" r="40" fill="none" stroke="rgba(201,168,76,0.28)" stroke-width="0.35"/>
                <circle cx="50" cy="50" r="28" fill="none" stroke="rgba(201,168,76,0.12)" stroke-width="0.25"/>
              </svg>
            </div><!-- /lens-asm -->
          </div><!-- /cam-lens-section -->

          <!-- Grip -->
          <div class="cam-grip">
            <div class="knob" id="navUpBtn" title="Previous icon">
              <svg viewBox="0 0 24 24"><polyline points="18 15 12 9 6 15"/></svg>
            </div>
            <div class="knob" id="navDownBtn" title="Next icon">
              <svg viewBox="0 0 24 24"><polyline points="6 9 12 15 18 9"/></svg>
            </div>

            <!-- Small LCD info panel on grip -->
            <div class="cam-lcd">
              <div class="cam-lcd-text">ISO<br>400</div>
            </div>
          </div>

          <!-- PIP SCREEN — anchored to cam-body, slides right -->
          <div id="pip-wrap">
            <div class="pip-connector"></div>
            <div class="pip-crt">
              <div class="pip-noise-line"></div>
              <div class="pip-bar">
                <span class="pip-bar-title">RANGEEN PIXELS · FIELD v2.1</span>
                <div class="pip-bar-right">
                  <div class="pip-dot pulse on" id="pipDot"></div>
                  <div class="pip-dot"></div>
                  <div class="pip-dot"></div>
                </div>
              </div>
              <div class="pip-body">
                <div class="pip-idle" id="pipIdle">
                  <div style="position:relative;width:36px;height:36px">
                    <div class="pip-crosshair"></div>
                    <div class="pip-idle-ring"></div>
                  </div>
                  <div class="pip-idle-msg">Hover icon to scan<span class="pip-cursor"></span></div>
                </div>
                <div class="pip-card" id="pipCard">
                  <div class="pip-card-head">
                    <div class="pip-icon-frame" id="pipIcon"></div>
                    <div class="pip-text">
                      <div class="pip-eyebrow" id="pipEyebrow"></div>
                      <div class="pip-name" id="pipName"></div>
                      <div class="pip-desc" id="pipDesc"></div>
                    </div>
                  </div>
                  <div class="pip-rule"></div>
                  <div class="pip-stats" id="pipStats"></div>
                  <div class="pip-progress">
                    <div class="pip-prog-label" id="pipProgLabel"></div>
                    <div class="pip-prog-track"><div class="pip-prog-fill" id="pipFill"></div></div>
                  </div>
                </div>
              </div>
              <div class="pip-foot">
                <span class="pip-status blink" id="pipStatus">● STANDBY</span>
                <span class="pip-status" id="pipRight">SYS · ONLINE</span>
              </div>
            </div>
          </div>

        </div><!-- /cam-main -->

        <!-- BOTTOM BAR -->
        <div class="cam-bottom">
          <div class="cam-rd g">EXP — 036</div>
          <div class="cam-ap">ƒ/1.4</div>
          <div class="cam-rd s">ISO 400 · 1/125s</div>
        </div>

      </div><!-- /cam-body -->

      <div class="hint" id="hintText">— CLICK ◎ TO OPEN DISPLAY · HOVER ICONS TO SCAN —</div>

    </div><!-- /cam-col -->
  </div><!-- /cam-wrap -->
</div>

<!-- PANEL OVERLAY -->
<div class="panel-ov" id="panelOv">
  <div class="panel" id="panelEl">
    <button class="panel-close" id="panelClose">[ CLOSE ✕ ]</button>
    <div id="panelIn"></div>
  </div>
</div>

<script>
/* ══ BUILD VERTICAL FILM STRIPS ══ */
function buildFilmCol(id, count) {
  const col = document.getElementById(id);
  const frames = Array.from({length: count}, (_,i) => i+1);
  // duplicate for seamless loop
  const allFrames = [...frames, ...frames];
  col.innerHTML = allFrames.map(n => `
    <div class="vfr">
      <div class="vfr-img"></div>
      <div class="vfr-num">${String(n).padStart(2,'0')}</div>
    </div>
  `).join('');
}
buildFilmCol('fc1', 16);
buildFilmCol('fc2', 18);

/* ══ PIP DATA ══ */
const pipData = {
  gallery:{
    eyebrow:'Visual Archive', name:'GALLERY',
    desc:'Member work spanning golden hour landscapes, darkroom silver gelatin prints, and raw street documentary.',
    stats:[{v:'247',k:'Prints'},{v:'35mm',k:'Format'},{v:'f/2.8',k:'Avg'}],
    prog:{label:'Archive fullness', pct:87},
    svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>`
  },
  events:{
    eyebrow:'Schedule', name:'EVENTS',
    desc:'Monthly photowalks, darkroom open nights, portfolio critiques, and our annual Spring Exhibition.',
    stats:[{v:'12',k:'This term'},{v:'MAR 22',k:'Next walk'},{v:'APR 28',k:'Exhibition'}],
    prog:{label:'Term progress', pct:58},
    svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="4" width="18" height="18" rx="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>`
  },
  about:{
    eyebrow:'Club profile', name:'ABOUT',
    desc:'Founded 2019. Full darkroom, studio bay, and a 30-body lending library from point-and-shoots to Hasselblad.',
    stats:[{v:'47',k:'Members'},{v:'2019',k:'Founded'},{v:'1',k:'Darkroom'}],
    prog:{label:'Membership capacity', pct:94},
    svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round"><circle cx="12" cy="12" r="9"/><line x1="12" y1="3" x2="8" y2="12"/><line x1="12" y1="3" x2="16" y2="12"/><line x1="21" y1="12" x2="14.5" y2="9"/><line x1="21" y1="12" x2="16" y2="15"/><line x1="12" y1="21" x2="16" y2="12"/><line x1="12" y1="21" x2="8" y2="12"/><line x1="3" y1="12" x2="9.5" y2="15"/><line x1="3" y1="12" x2="8" y2="9"/></svg>`
  },
  workshops:{
    eyebrow:'Training', name:'WORKSHOPS',
    desc:'Film 101, studio lighting masterclass, Lightroom workflow, street ethics, and composition deep dives.',
    stats:[{v:'5',k:'Active'},{v:'8hr',k:'Per session'},{v:'Free',k:'For members'}],
    prog:{label:'Seats remaining', pct:38},
    svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="6" width="20" height="12" rx="1"/><line x1="2" y1="10" x2="22" y2="10"/><line x1="2" y1="14" x2="22" y2="14"/><line x1="6" y1="6" x2="6" y2="18"/><line x1="18" y1="6" x2="18" y2="18"/></svg>`
  },
  members:{
    eyebrow:'Personnel', name:'MEMBERS',
    desc:'Photographers across all disciplines — documentary to fine art. Committee of six leads the club.',
    stats:[{v:'47',k:'Active'},{v:'6',k:'Committee'},{v:'3yr',k:'Avg tenure'}],
    prog:{label:'Cohort activity', pct:78},
    svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><circle cx="12" cy="12" r="3"/></svg>`
  },
  gear:{
    eyebrow:'Equipment', name:'GEAR',
    desc:'Canon R6, Hasselblad 500CM, Nikon FM2, Profoto B10 strobes, Durst enlargers, telephoto glass.',
    stats:[{v:'31',k:'Bodies'},{v:'48hr',k:'Max loan'},{v:'Free',k:'For members'}],
    prog:{label:'Gear availability', pct:62},
    svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="3"/><path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1-2.83 2.83l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-4 0v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1 0-4h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 2.83-2.83l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 4 0v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 0 4h-.09a1.65 1.65 0 0 0-1.51 1z"/></svg>`
  },
  join:{
    eyebrow:'Membership', name:'JOIN US',
    desc:'Open to all enrolled students. Annual dues €20 covers darkroom, gear loans, and all events.',
    stats:[{v:'€20',k:'Per year'},{v:'Open',k:'Status'},{v:'∞',k:'Access'}],
    prog:{label:'Membership drive', pct:100},
    svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>`
  },
  awards:{
    eyebrow:'Recognition', name:'AWARDS',
    desc:'NPSA Photo of Year, National Student Award, Best University Club 2024, Regional Press Photography Prize.',
    stats:[{v:'6',k:'Trophies'},{v:'2025',k:'Last win'},{v:'Natl.',k:'Level'}],
    prog:{label:'Award score', pct:93},
    svg:`<svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.4" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"/></svg>`
  }
};

/* ══ PANEL CONTENT ══ */
const panels = {
  gallery:{tag:'Work',title:'Our Gallery',html:`<div class="panel-body"><p>A curated selection from our members' finest work — from campus corridors to distant horizons.</p></div><div class="gg">${[['🌆','Golden Hour'],['🌿','Botanica'],['👤','Portraits'],['🌊','Seascape'],['🏙','Urban Life'],['🎭','Street'],['🌌','Astrophoto'],['🍂','Seasons'],['🔬','Macro']].map(([e,l])=>`<div class="gt">${e}<div class="gl">${l}</div></div>`).join('')}</div>`},
  events:{tag:'Schedule',title:'Upcoming Events',html:`<div class="panel-body"><p>Mark your calendars — something is always happening in the RANGEEN PIXELS world.</p></div>${[['22','MAR','Golden Hour Photowalk','Campus Botanic Garden · 5:30 PM'],['01','APR','Film Development Workshop','Darkroom, Arts Block B · 2:00 PM'],['14','APR','Street Photography Challenge','City Centre · All Day'],['28','APR','Annual Spring Exhibition','Gallery Hall · Opening Night'],['05','MAY','Portrait Session — Open Studio','Studio 3, Arts Complex · 3:00 PM']].map(([d,m,t,i])=>`<div class="ei"><div class="ed">${d}<span class="em">${m}</span></div><div class="eif"><h4>${t}</h4><p>${i}</p></div></div>`).join('')}`},
  about:{tag:'Our Story',title:'About RANGEEN PIXELS',html:`<div class="panel-body"><p>RANGEEN PIXELS was born in a cramped dorm room in 2019, when students discovered a shared obsession with seeing the world through glass.</p><p>Today we run a fully-equipped darkroom, studio lighting bay, and a lending library of 30+ cameras — from point-and-shoots to a Hasselblad 500CM.</p><div class="panel-div"></div><p><em>Every person has a unique way of seeing the world. Photography is how you share it.</em></p></div>`},
  workshops:{tag:'Learn',title:'Workshops',html:`<div class="panel-body"><p>From beginner introductions to advanced masterclasses — every semester.</p></div>${[['◉','Film Photography 101','Loading film, developing, printing in the darkroom.'],['◈','Studio Lighting Masterclass','Three-point setups, softboxes, colour gels.'],['◆','Lightroom & Editing','Culling, tonal grading, building your palette.'],['◇','Street Photography Ethics','Navigate consent, find your documentary style.'],['✦','Composition Deep Dive','Rules of thirds, leading lines, negative space.']].map(([ic,t,d])=>`<div class="ei"><div class="ed" style="font-size:1.4rem;min-width:36px;text-align:center">${ic}</div><div class="eif"><h4>${t}</h4><p>${d}</p></div></div>`).join('')}`},
  members:{tag:'People',title:'The Team',html:`<div class="panel-body"><p>The people behind the lens.</p></div><div class="mg">${[['📷','Maya Chen','President'],['🎞','Arjun Patel','Vice President'],['🌟','Sofia Torres','Events Lead'],["🔲","James O'Brien",'Darkroom Manager'],['🎨','Priya Singh','Gallery Curator'],['⚙','Lucas Kim','Gear & Equipment']].map(([a,n,r])=>`<div class="mc"><div class="ma">${a}</div><div class="mn">${n}</div><div class="mr">${r}</div></div>`).join('')}</div>`},
  gear:{tag:'Equipment',title:'Lending Library',html:`<div class="panel-body"><p>Members in good standing may borrow gear for 48 hours.</p><div class="panel-div"></div></div>${[['📷','Canon EOS R6 Mark II','Full-frame mirrorless · Available'],['📷','Hasselblad 500CM','Medium format film · Book ahead'],['📷','Nikon FM2','35mm SLR · 3 units available'],['💡','Profoto B10 Kit','2-head location strobe · Available'],['🎞','Darkroom Enlargers','Durst M605 × 4 · Booking required'],['🔭','Telephoto 70-200mm f/2.8','Canon L-series · Available']].map(([ic,n,s])=>`<div class="ei"><div class="ed" style="font-size:1.4rem;min-width:36px">${ic}</div><div class="eif"><h4>${n}</h4><p>${s}</p></div></div>`).join('')}`},
  join:{tag:'Membership',title:'Join Us',html:`<div class="panel-body"><p>Open to all enrolled students. Annual dues €20 — covering darkroom, equipment borrowing, and all events.</p></div><div class="panel-div"></div><div class="fg"><label class="fl">Full Name</label><input class="fi" type="text" placeholder="Your name"></div><div class="fg"><label class="fl">Student Email</label><input class="fi" type="email" placeholder="you@university.edu"></div><div class="fg"><label class="fl">Experience Level</label><select class="fi" style="background:#0b0b0b"><option>Select one…</option><option>Complete beginner</option><option>Hobbyist</option><option>Intermediate</option><option>Advanced</option></select></div><div class="fg"><label class="fl">What draws you to photography?</label><textarea class="fi" rows="3" placeholder="Tell us about yourself…" style="resize:vertical"></textarea></div><button class="fb" onclick="alert('Application received! 📷')">SUBMIT APPLICATION</button>`},
  awards:{tag:'Recognition',title:'Awards & Honours',html:`<div class="panel-body"><p>Our members have won recognition nationally and internationally.</p></div>${[['◆','2025 NPSA Photo of the Year','Maya Chen — "Morning Market, Hanoi"'],['◆','National Student Photography Award','Arjun Patel — Documentary Category'],['◆','Best University Photography Club','Intercollegiate Arts Council, 2024'],['◆','Regional Press Photography Prize','Sofia Torres — "The March"'],['◆','Graduate Showcase — Dublin Gallery','Five members selected, Spring 2024'],["◆","Darkroom Print Excellence Award","James O'Brien — Alternative Process"]].map(([ic,t,d])=>`<div class="ei"><div class="ed" style="font-size:1rem;color:var(--gold);min-width:24px">${ic}</div><div class="eif"><h4>${t}</h4><p>${d}</p></div></div>`).join('')}`}
};

/* ══ RADIAL NAV ══ */
function buildNav() {
  const wrap = document.getElementById('navRadial');
  if (!wrap) return;
  const ring = [...wrap.querySelectorAll('.nav-item:not(.center)')];
  const home = wrap.querySelector('.nav-item.center');
  const {width:W} = wrap.getBoundingClientRect();
  if (W < 10) return;
  const cx = W/2, cy = W/2;
  const sz = Math.max(26, Math.min(52, W * 0.205));
  const R = (W/2) - (sz/2) - 4;
  let orb = wrap.querySelector('.orbit-ring');
  if (!orb){orb=document.createElement('div');orb.className='orbit-ring';wrap.prepend(orb);}
  const od = R*2+sz;
  Object.assign(orb.style,{width:od+'px',height:od+'px',top:(cy-od/2)+'px',left:(cx-od/2)+'px'});
  ring.forEach((el,i)=>{
    const a=(i/ring.length)*2*Math.PI - Math.PI/2;
    Object.assign(el.style,{left:(cx+R*Math.cos(a)-sz/2)+'px',top:(cy+R*Math.sin(a)-sz/2)+'px',width:sz+'px',height:sz+'px'});
  });
  if(home){const hs=sz*1.28;Object.assign(home.style,{left:(cx-hs/2)+'px',top:(cy-hs/2)+'px',width:hs+'px',height:hs+'px'});}
}
new ResizeObserver(buildNav).observe(document.getElementById('navRadial'));

/* ══ PIP SCREEN ══ */
const pipWrap  = document.getElementById('pip-wrap');
const pipIdle  = document.getElementById('pipIdle');
const pipCard  = document.getElementById('pipCard');
const homeBtn  = document.getElementById('homeBtn');
const lensFlash = document.getElementById('lens-flash');
let pipOpen = false, hoverTimer = null;

function openPip() {
  if (pipOpen) return;
  pipOpen = true;
  lensFlash.classList.remove('blink');
  void lensFlash.offsetWidth;
  lensFlash.classList.add('blink');
  setTimeout(() => {
    pipWrap.classList.add('open');
    document.getElementById('camWrap').classList.add('pip-open');
    homeBtn.classList.add('pip-active');
    const sb = document.getElementById('shutterPipBtn');
    if (sb) sb.classList.add('pip-active');
    document.getElementById('hintText').textContent = '— HOVER ICONS TO SCAN · CLICK TO OPEN —';
  }, 160);
}

function closePip() {
  if (!pipOpen) return;
  pipOpen = false;
  pipWrap.classList.remove('open');
  document.getElementById('camWrap').classList.remove('pip-open');
  homeBtn.classList.remove('pip-active');
  clearPip();
  document.getElementById('hintText').textContent = '— CLICK ◎ TO OPEN DISPLAY · HOVER ICONS TO SCAN —';
}

function showPip(key) {
  const d = pipData[key]; if (!d) return;
  document.getElementById('pipIcon').innerHTML   = d.svg;
  document.getElementById('pipEyebrow').textContent = d.eyebrow;
  document.getElementById('pipName').textContent = d.name;
  document.getElementById('pipDesc').textContent = d.desc;
  document.getElementById('pipStats').innerHTML  = d.stats.map(s=>`<div class="pip-stat"><div class="v">${s.v}</div><div class="k">${s.k}</div></div>`).join('');
  document.getElementById('pipProgLabel').textContent = d.prog.label;
  document.getElementById('pipFill').style.width = '0%';
  requestAnimationFrame(()=>requestAnimationFrame(()=>{
    document.getElementById('pipFill').style.width = d.prog.pct + '%';
  }));
  document.getElementById('pipStatus').textContent = '● SCANNING › ' + d.name;
  pipIdle.classList.add('gone');
  pipCard.classList.add('visible');
}

function clearPip() {
  pipIdle.classList.remove('gone');
  pipCard.classList.remove('visible');
  document.getElementById('pipFill').style.width = '0%';
  document.getElementById('pipStatus').textContent = '● STANDBY';
}

homeBtn.addEventListener('click', e => {
  e.preventDefault();
  if (pipOpen) closePip(); else openPip();
});

document.querySelectorAll('.nav-item:not(.center)').forEach(el => {
  el.addEventListener('mouseenter', () => {
    clearTimeout(hoverTimer);
    const key = el.dataset.pip;
    if (!key) return;
    if (!pipOpen) openPip();
    hoverTimer = setTimeout(() => showPip(key), 90);
  });
  el.addEventListener('mouseleave', () => {
    clearTimeout(hoverTimer);
    hoverTimer = setTimeout(() => { if (pipOpen) clearPip(); }, 400);
  });
  el.addEventListener('click', e => {
    e.preventDefault();
    const k = el.dataset.panel; if (!k) return;
    history.pushState(null,'','#'+k);
    openPanel(k);
  });
  el.addEventListener('keydown', e => { if(e.key==='Enter'||e.key===' '){e.preventDefault();el.click();} });
  el.addEventListener('touchstart', () => {
    const key = el.dataset.pip;
    if (key){ if (!pipOpen) openPip(); showPip(key); }
  }, {passive:true});
});

document.addEventListener('click', e => {
  const cam = document.getElementById('camBody');
  if (pipOpen && !cam.contains(e.target) && !document.getElementById('panelOv').contains(e.target) && !document.getElementById('pip-wrap').contains(e.target)) closePip();
});

/* ══ REFRESH BUTTON (mode dial — green circle) ══ */
document.getElementById('refreshBtn').addEventListener('click', () => {
  const btn = document.getElementById('refreshBtn');
  btn.classList.remove('spin');
  void btn.offsetWidth;
  btn.classList.add('spin');
  // Flash the lens too for flair
  lensFlash.classList.remove('blink');
  void lensFlash.offsetWidth;
  lensFlash.classList.add('blink');
  setTimeout(() => location.reload(), 420);
});

/* ══ SHUTTER BUTTON = PIP TOGGLE (white circle) ══ */
document.getElementById('shutterPipBtn').addEventListener('click', () => {
  if (pipOpen) {
    closePip();
    document.getElementById('shutterPipBtn').classList.remove('pip-active');
  } else {
    openPip();
    setTimeout(() => document.getElementById('shutterPipBtn').classList.add('pip-active'), 160);
  }
});

/* ══ GRIP KNOBS = UP/DOWN NAV (red circle) ══ */
const pipKeys = Object.keys(pipData);
let currentPipIdx = 0;

function navPip(dir) {
  if (!pipOpen) {
    openPip();
    // wait for pip to open then show
    setTimeout(() => {
      currentPipIdx = (currentPipIdx + dir + pipKeys.length) % pipKeys.length;
      _showAndHighlight(pipKeys[currentPipIdx], dir);
    }, 300);
    return;
  }
  currentPipIdx = (currentPipIdx + dir + pipKeys.length) % pipKeys.length;
  _showAndHighlight(pipKeys[currentPipIdx], dir);
}

function _showAndHighlight(key, dir) {
  // flash the pressed knob
  const knobId = dir < 0 ? 'navUpBtn' : 'navDownBtn';
  const knob = document.getElementById(knobId);
  knob.classList.remove('flash');
  void knob.offsetWidth;
  knob.classList.add('flash');
  setTimeout(() => knob.classList.remove('flash'), 300);
  // briefly highlight matching nav item
  document.querySelectorAll('.nav-item:not(.center)').forEach(el => {
    el.style.background = '';
    el.style.borderColor = '';
    el.style.boxShadow = '';
    el.style.transform = '';
  });
  const activeEl = document.querySelector(`.nav-item[data-pip="${key}"]`);
  if (activeEl) {
    activeEl.style.background = 'rgba(201,168,76,0.22)';
    activeEl.style.borderColor = 'rgba(201,168,76,0.9)';
    activeEl.style.boxShadow = '0 0 20px rgba(201,168,76,0.5)';
    activeEl.style.transform = 'scale(1.18)';
    setTimeout(() => {
      activeEl.style.background = '';
      activeEl.style.borderColor = '';
      activeEl.style.boxShadow = '';
      activeEl.style.transform = '';
    }, 500);
  }
  showPip(key);
}

document.getElementById('navUpBtn').addEventListener('click', () => navPip(-1));
document.getElementById('navDownBtn').addEventListener('click', () => navPip(1));

// sync shutter button state with closePip
const _origClosePip = closePip;
closePip = function() {
  _origClosePip();
  document.getElementById('shutterPipBtn').classList.remove('pip-active');
  currentPipIdx = 0;
};

/* ══ PANELS ══ */
function openPanel(key) {
  const p = panels[key]; if (!p) return;
  document.getElementById('panelIn').innerHTML = `<div class="panel-tag">◆ ${p.tag}</div><div class="panel-title">${p.title}</div>${p.html}`;
  document.getElementById('panelOv').classList.add('active');
  document.getElementById('panelEl').scrollTop = 0;
}
function closePanel() {
  document.getElementById('panelOv').classList.remove('active');
  history.replaceState(null,'',location.pathname+location.search);
}
document.getElementById('panelClose').addEventListener('click', closePanel);
document.getElementById('panelOv').addEventListener('click', e => { if(e.target===document.getElementById('panelOv')) closePanel(); });
window.addEventListener('hashchange', () => { const k=location.hash.slice(1); k&&panels[k]?openPanel(k):document.getElementById('panelOv').classList.remove('active'); });
document.addEventListener('keydown', e => { if(e.key==='Escape'){closePanel();closePip();} });

/* ══ BOOT SEQUENCE ══ */
const HOLD=2200, FDUR=950;
setTimeout(() => { document.getElementById('intro').classList.add('out'); document.getElementById('flash').classList.add('fire'); }, HOLD);
setTimeout(() => { document.getElementById('scene').classList.add('show'); document.getElementById('shutterBlades').classList.add('open'); document.getElementById('lensGlass').classList.add('open'); }, HOLD + FDUR*0.5);
setTimeout(() => {
  buildNav();
  document.getElementById('lensInt').classList.add('visible');
  document.querySelectorAll('.nav-item').forEach((el,i) => setTimeout(()=>el.classList.add('show'), i*55+60));
  const h=location.hash.slice(1); if(h&&panels[h]) openPanel(h);
}, HOLD + FDUR + 180);
</script>
</body>
</html>
